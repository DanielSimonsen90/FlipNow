@use '../../../../styles/mixins' as mixins;
@use './components/Card/Card.scss' as card;
@use './components/CardContainer/CardContainer.scss' as cardContainer;

$game-size: mixins.calculate-game-size(
  card.$card-width,
  cardContainer.$gap,
  5
);

main {
  margin: unset;
}

#active-game {
  display: grid;
  place-items: center;
  grid-auto-rows: min-content;
  gap: 1em;

  > h1 {
    margin: 2rem 0 .5rem;
  }
}

.game-container {
  // PlayState == PLAYING
  display: grid;
  grid-template-areas: "game leaderboard";
  grid-template-columns: #{$game-size} auto;
  place-items: center;
  gap: 2em;
  min-height: min(20vh, 75vw);
  margin-bottom: 2em;

  &:has(.turn-teller) {
    grid-template-areas: 
      "turn-teller turn-teller" 
      "game leaderboard";
  }

  // PlayState == IDLE
  &:has([class*=start-game]) {
    display: flex;
    flex-direction: column-reverse;
    gap: 1em;
  }

  // PlayState == ENDED
  &:has(.game-ended) {
    grid-template-areas: "end end" "start leaderboard";
    margin: 1em 0;

    > *:first-child {
      grid-area: end;
    }

    .game-ended :is(h2, p) {
      margin: .5ch 0 1ch;
      text-align: center;
    }
  }
}